<html>
<head>
	<style>
		body {
			margin: 0;
			background-color: white;
		}
		table, tbody, tr, td {
			max-height: 0;
			height: 100%;
		}
		table {
			width: 100%;
			border: 1;
			border-collapse: collapse;
		}
		thead {
			background-color: aliceblue;
		}
		input {
			height: 100%;
			background-color: inherit;
		}
		.Cell {
			height: 100%;
			width: 100%;
			/* resize: none; */
			border: 0;
			text-align: center;
			background-color: inherit;
			/*outline: none;*/
		}
		</style>
	<script>
		color_preset = {
			'Y' : '#FFFF00', 'y' : '#FFFFBB',
			'R' : '#FF8000', 'r' : '#FFB000',
			'G' : '#00FF00', 'g' : '#B9FF00',
			'B' : '#8080FF', 'b' : '#C0C0FF'
		};
		window.addEventListener('DOMContentLoaded',	main)
		function main()
		{
			vec = Array.from({length:10000}, x=>[]);
			arr =  [['ㅷblueㆅ가나',	'ㅷBㆅ12',		'ㅷGㆅ3',		'ㅷr'],
					['ㆅaaa',			'ㆅ6',			'ㅷgㆅ7',		'ㅷR'],
					['ㅷYㆅ다라',		'ㅷyㆅ10',		'ㆅ11',			'ㆅ마바'],
					['ㆅ마바',			'ㅷyㆅ사',		'ㅷBㆅ자',		'ㅷbㆅㄱㄴㄷ'],
					['ㅷGㆅ보',			'ㅷRㆅ니',		'ㅷyㆅ쿠',		'ㅷYㆅ메롱']];
			body = document.body;
			table1 = arr_to_table(arr);
			body.appendChild(table1);
		}
		function swap_key_value(map)
		{
			return JSON.parse(`{${keys(map).map(x=>`"${map[x]}":"${x}"`).join(',')}}`);
		}
		function assgin_event_once()
		{
			;
		}
		function assgin_event_again()
		{
			;
		}
		function parse(category, keyword)
		{
			parsed = {};
			category = `\x00${category}\x7F`;
			keyword = `\x00${keyword}\x7F`;

			[...category]
			.map((x,i,a) => [keyword.indexOf(x), x])
			.toSorted((x,y) => x[0] - y[0])
			.forEach((x,i,a) => {if (i < a.length - 1) parsed[a[i][1]] = keyword.substring(a[i][0] + 1, a[i+1][0])});

			return parsed;
		}
		function arr_to_table(arr)
		{
			table = document.createElement('table');
			thead = document.createElement('thead');
			tbody = document.createElement('tbody');
			arr.forEach((row, i) => {
				tr = document.createElement('tr');
				row.forEach((col, j) => {
					parsed = parse('ㅱㅷㆅ', col);
					td = parsed['ㅱ'] ? document.createElement('th') : document.createElement('td');
					input = document.createElement('input');
					input.className = "Cell";
					input.value = parsed['ㆅ'];
					td.style.backgroundColor = color_preset[parsed['ㅷ']];
					td.setAttribute('row', i);
					td.setAttribute('col', j);
					td.appendChild(input);
					tr.appendChild(td);
				})
				i > 0 ? tbody.appendChild(tr) : thead.appendChild(tr)
			})
			table.appendChild(thead);
			table.appendChild(tbody);
			table.border = 1;
			return table;
		}
		function table_to_vec(table)
		{
			return table.querySelectorAll('tr').map(tr =>{
				tr.querySelectorAll('td').map(td =>{
					input = td.querySelector('input');
					bg = td.style.backgroundColor;
					//ㅷㆅ
					return `ㅷ${bg}ㆅ${input.value}`;
				})
			})
		}
		function vec_to_map(map)
		{
			return vec.forEach(x => map[`${x[0]},${x[1]}`] = x[2])
		}
		function map_to_vec(map) // map['행,열'] = '셀정보' <===> vec[행][열] = '셀정보'
		{
			keys(map)
			.map(x => [...x.split(','), map[x]])
			.toSorted()
			.forEach(x => vec[x[0]].push(x[2]));
			return vec;
		}
	</script>
</head>
<body>
</body>
</html>
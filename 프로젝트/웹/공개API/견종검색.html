<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" name="viewport" content="width=device-width, initial-scale=1.0">
    <script src="jquery.min.js"></script>
    <title>Document</title>
	<style>
		img {
			max-width: 60vw;
			max-height: 60vh;
		}
		body {
			display: flex;
			padding: 20px;
			justify-content: center;
			align-items: center;
		}
		#wrapper {
			width: 80vw;
			height: 80vh;
			padding: 20px;
			border: 2px solid black;
			border-radius: 20px;
			display: flex;
			flex-direction: column;
			align-items: center;
			gap: 10px;
		}
	</style>
    <script>
		//$.get, $.post...$.load, $.getJSON, $.ajax

		let state = { Í≤¨Ï¢Ö:new Set() };
		let Q = (x,y=document) => y.querySelector(x);
		let Elem = (config) => {
			const {tag='div', text='', class:className='', ...attrs} = config;
			el = document.createElement(tag);
			el.innerText = text;
			el.className = className;
			Object.keys(attrs).forEach(attr => el.setAttribute(attr, attrs[attr]));
			return el;
		}

        $(document).ready(function(){
            getData();
        })

        function getData() {
            $.ajax({ method:'get', dataType:'json', url:'https://dog.ceo/api/breeds/list/all' })
			.done(res => {
				const breeds = res.message;
				Object.keys( breeds ).forEach(breed => {
					if (Object.keys(breeds[breed]).length)
						Object.keys(breeds[breed]).forEach(x => state.Í≤¨Ï¢Ö.add(`${breed}/${breeds[breed][x]}`));
					else
						state.Í≤¨Ï¢Ö.add( breed );
				})
			})
			.done(main);
        }

		function main() {
			Q('body').append( Elem({id:'wrapper'}) );
			Q('#wrapper').append( c_search() );
			Q('#wrapper').append( c_result() );
		}

		function c_search() {
			Ïª®ÌÖåÏù¥ÎÑà = Elem({id:'search', id:'Í≤ÄÏÉâÏ∞Ω'});
			ÌÉÄÏù¥ÌãÄ = Elem({tag:'h3', text:'Í≤¨Ï¢Ö Í≤ÄÏÉâ ÌîÑÎ°úÍ∑∏Îû®'});
			Î∞ïÏä§ = Elem({tag:'select', id:'Í≤ÄÏÉâÏñ¥'});
			Í≤ÄÏÉâ = Elem({tag:'button', id:'Í≤ÄÏÉâ', text:'üîé'});

			Í≤ÄÏÉâ.addEventListener('click', search);

			[...state.Í≤¨Ï¢Ö].forEach(Ïù¥Î¶Ñ => Î∞ïÏä§.append( Elem({tag:'option', text:Ïù¥Î¶Ñ}) ));
			[ÌÉÄÏù¥ÌãÄ, Î∞ïÏä§, Í≤ÄÏÉâ].forEach(el => Ïª®ÌÖåÏù¥ÎÑà.append(el));
			return Ïª®ÌÖåÏù¥ÎÑà;
		}

		function c_result() {
			Ïª®ÌÖåÏù¥ÎÑà = Elem({id:'result', id:'Í≤∞Í≥ºÏ∞Ω'});
			Ïù¥Î¶Ñ = Elem({tag:'sapn', id:'Ïù¥Î¶Ñ'});
			Ïù¥ÎØ∏ÏßÄ = Elem({tag:'img', id:'Ïù¥ÎØ∏ÏßÄ'});

			[Ïù¥Î¶Ñ, Ïù¥ÎØ∏ÏßÄ].forEach(el => Ïª®ÌÖåÏù¥ÎÑà.append(el));
			return Ïª®ÌÖåÏù¥ÎÑà;
		}

		function search() {
			const Í≤¨Ï¢Ö = Q('#Í≤ÄÏÉâÏñ¥').value;
			const url = `https://dog.ceo/api/breed/${Í≤¨Ï¢Ö}/images/random`;
            $.ajax({ method:'get', dataType:'json', url })
			.done(res => Q('#Ïù¥ÎØ∏ÏßÄ').src = res.message );
		}
    </script>
</head>
<body>
</body>
</html>

"use strict";const a1_0x5978=["isInteger","13bumpxa","ceil","right","round","346239akAboQ","sqrt","replace","height","13RZcwaJ","33899wIgPhU","17jnejeG","floor","bottom",'" and "',"15319XyMYvF","webpackChunkluna","data","pow"," x ","14903zkspVj"," must be contained within ","Unrecognized array type","number",'Invalid dimensions for image "',"11TKTATj","range","795880eRdSFn","18023Gnuljb",'" dimensions are equal',"buffer",'Range "',"width",'": ',"top","443602QwicHq","start","max","SharedArrayBuffer","min","left","push","size",'Images "',"color","length","set","targetImage"],a1_0x20fe=function(t,n){return a1_0x5978[t-=352]},a1_0x1bc22d=a1_0x20fe;!function(t,n){const r=a1_0x20fe;for(;;)try{if(221913===parseInt(r(354))*-parseInt(r(355))+parseInt(r(370))*parseInt(r(360))+-parseInt(r(373))*-parseInt(r(356))+parseInt(r(380))+parseInt(r(365))*parseInt(r(394))+parseInt(r(398))+-parseInt(r(372)))break;t.push(t.shift())}catch(n){t.push(t.shift())}}(a1_0x5978),(self[a1_0x1bc22d(361)]=self[a1_0x1bc22d(361)]||[])[a1_0x1bc22d(386)]([[325],{325:(t,n,r)=>{r.r(n),r.d(n,{run:()=>i});var e=r(517),a=r(166),o=r(742);const i=async(t,n,r)=>{const i=a1_0x20fe;(0,o.ap)(r,i(392));const f=r[i(392)][i(362)],c=r[i(392)][i(377)],s=r.blendMode,u=r.range,h=r[i(389)],l=(0,a.Qf)(r.targetImage,r[i(371)]);for(let r=u[i(379)]+t[i(381)];r<u[i(379)]+t.end;r++){for(let t=u[i(385)];t<u[i(396)];t++)(0,e.B)(s,f,4*(r*c+t),h,0);n.update(+((r-t[i(381)])/t[i(387)]).toFixed(2))}return{redoData:(0,a.Qf)(r.targetImage,r[i(371)]),undoData:l}}},742:(t,n,r)=>{r.d(n,{ap:()=>a,TO:()=>o,zg:()=>i});var e=r(3);function a(t,n){const r=a1_0x20fe,e=t[n];if(e.width<1||e[r(353)]<1)throw new Error(r(369)+n+r(378)+e[r(377)]+r(364)+e[r(353)])}function o(t,n,r){const e=a1_0x20fe,a=t[n],o=t[r];if(a[e(377)]===o[e(377)]&&a[e(353)]===o[e(353)])throw new Error(e(388)+n+'" and "'+r+e(374))}function i(t,n,r){const a=a1_0x20fe,o=t[n];if(!(0,e.ur)(r,o))throw new Error(a(376)+n+'" '+(0,e.PW)(o)+a(366)+(0,e.PW)(r))}},371:(t,n,r)=>{const e=a1_0x1bc22d;function a(t,n=2*t[e(390)]){const r=e;let a;if(t instanceof Float32Array)a=new Float32Array(n);else if(t instanceof Uint8Array)a=new Uint8Array(n);else if(t instanceof Uint16Array)a=new Uint16Array(n);else{if(!(t instanceof Uint32Array))throw new Error(r(367));a=new Uint32Array(n)}return a[r(391)](t),a}function o(t,n,r=!1){const a=e;return n<Math[a(363)](2,8)?r?new Uint8Array(new SharedArrayBuffer(t)):new Uint8Array(t):n<Math[a(363)](2,16)?r?new Uint16Array(new SharedArrayBuffer(2*t)):new Uint16Array(t):r?new Uint32Array(new SharedArrayBuffer(4*t)):new Uint32Array(t)}function i(t,n,r,e){t[n]=r[e],t[n+1]=r[e+1],t[n+2]=r[e+2],t[n+3]=r[e+3]}r.d(n,{Rs:()=>a,X$:()=>o,Yr:()=>i})},517:(t,n,r)=>{const e=a1_0x1bc22d;r.d(n,{B:()=>c});var a=r(371);const o=new Float32Array(6);let i;const f={normal:(t,n)=>n,darken:(t,n)=>Math[e(384)](t,n),multiply:(t,n)=>t*n,linearBurn:(t,n)=>Math[e(382)](t+n-1,0),lighten:(t,n)=>Math.max(t,n),screen:(t,n)=>1-(1-t)*(1-n),linearDodgeAdd:(t,n)=>Math[e(384)](t+n,1),overlay:(t,n)=>t<.5?2*t*n:1-2*(1-t)*(1-n),softLight:(t,n)=>n<.5?2*t*n+t*t*(1-2*n):Math[e(399)](t)*(2*n-1)+2*t*(1-n),difference:(t,n)=>Math.abs(t-n),exclusion:(t,n)=>t+n-2*t*n};function c(t,n,r,c,u,h=n,l=r){const d=e;if(t!==d(352)){if(o[0]=c[u+3]/255,0===o[0])return n[r]=h[l],n[r+1]=h[l+1],n[r+2]=h[l+2],void(n[r+3]=h[l+3]);if(o[1]=h[l+3]/255,0===o[1])return n[r]=c[u],n[r+1]=c[u+1],n[r+2]=c[u+2],void(n[r+3]=c[u+3]);i=f[t],o[3]=i(h[l]/255,c[u]/255),o[4]=i(h[l+1]/255,c[u+1]/255),o[5]=i(h[l+2]/255,c[u+2]/255),o[2]=o[0]+o[1]*(1-o[0]),n[r]=Math[d(397)](s(h[l]/255,o[1],c[u]/255,o[0],o[3])/o[2]*255),n[r+1]=Math[d(397)](s(h[l+1]/255,o[1],c[u+1]/255,o[0],o[4])/o[2]*255),n[r+2]=Math[d(397)](s(h[l+2]/255,o[1],c[u+2]/255,o[0],o[5])/o[2]*255),n[r+3]=Math[d(397)](255*o[2])}else(0,a.Yr)(n,r,c,u)}function s(t,n,r,e,a){return(n-n*e)*t+(e-n*e)*r+n*e*a}},166:(t,n,r)=>{r.d(n,{Qf:()=>a,M_:()=>o});var e=r(3);function a(t,n){const r=a1_0x20fe,a=(0,e.Oq)(n),o=(0,e.rY)(n),i=new Uint8Array(a*o*4);let f=0,c=0;for(let e=0;e<o;e++)c=e+n[r(379)],f=4*(c*t[r(377)]+n[r(385)]),i.set(t[r(362)].subarray(f,f+4*a),e*a*4);return i}function o(t,n,r,e,a=!0){const o=a1_0x20fe;if(!a&&n<e&&t<r)return{left:Math[o(397)]((r-t)/2),top:Math[o(397)]((e-n)/2),width:t,height:n};const i={left:0,top:0,width:r,height:e};if(n>t){const e=t/n;i[o(385)]=Math[o(397)](r*(.5-e/2)),i[o(377)]=Math[o(397)](r*e)}else if(t>n){const r=n/t;i.top=Math[o(397)](e*(.5-r/2)),i[o(353)]=Math.round(e*r)}return i}},3:(t,n,r)=>{function e(t){const n=a1_0x20fe;if(t)return{left:t[n(385)],top:t.top,right:t[n(396)],bottom:t[n(358)]}}function a(t,n){return{left:t,top:n,right:t+1,bottom:n+1}}function o(t,n){return{left:0,top:0,right:t,bottom:n}}function i(t,n,r,e){const a=a1_0x20fe,o=function(t){const n=a1_0x20fe;if(t[n(385)]>t[n(396)]){const r=t[n(396)];t[n(396)]=t.left,t.left=r}if(t[n(379)]>t.bottom){const r=t.bottom;t[n(358)]=t[n(379)],t[n(379)]=r}if(t[n(396)]<t[n(385)]){const r=t[n(385)];t.left=t.right,t.right=r}if(t[n(358)]<t[n(379)]){const r=t[n(379)];t[n(379)]=t[n(358)],t[n(358)]=r}return t}({left:t,top:n,right:r,bottom:e});return o[a(396)]++,o.bottom++,o}function f(t,n){const r=a1_0x20fe;return t.left=Math[r(384)](Math.max(t[r(385)],n[r(385)]),n[r(396)]),t[r(379)]=Math.min(Math[r(382)](t[r(379)],n[r(379)]),n[r(358)]),t[r(396)]=Math[r(382)](Math[r(384)](t[r(396)],n[r(396)]),n[r(385)]),t.bottom=Math[r(382)](Math.min(t[r(358)],n[r(358)]),n[r(379)]),t}function c(t){const n=a1_0x20fe;return t[n(385)]=Math[n(357)](t[n(385)]),t.right=Math[n(395)](t[n(396)]),t[n(379)]=Math[n(357)](t.top),t.bottom=Math[n(395)](t.bottom),t}function s(t,n,r){const e=a1_0x20fe;if(function(t){const n=a1_0x20fe;return t[n(385)]===t[n(396)]||t[n(379)]===t[n(358)]}(t))return t[e(385)]=n,t[e(396)]=n+1,t[e(379)]=r,void(t.bottom=r+1);t[e(385)]=Math[e(384)](t[e(385)],n),t[e(379)]=Math.min(t[e(379)],r),t[e(396)]=Math[e(382)](t.right,n+1),t[e(358)]=Math[e(382)](t[e(358)],r+1)}function u(t,n,r){const e=a1_0x20fe;return n>=t[e(385)]&&n<t[e(396)]&&r>=t[e(379)]&&r<t[e(358)]}function h(t,n){const r=a1_0x20fe;return n[r(385)]>=t[r(385)]&&n[r(396)]<=t[r(396)]&&n.top>=t.top&&n[r(358)]<=t[r(358)]}function l(t){const n=a1_0x20fe;return"("+t.left+","+t[n(379)]+")->("+t.right+","+t[n(358)]+")"}function d(t){const n=a1_0x20fe;return t.right-t[n(385)]}function p(t){return t.bottom-t.top}r.d(n,{BN:()=>e,Re:()=>a,DI:()=>o,tH:()=>i,l$:()=>f,kq:()=>c,Hv:()=>s,RB:()=>u,ur:()=>h,PW:()=>l,Oq:()=>d,rY:()=>p})}}]);
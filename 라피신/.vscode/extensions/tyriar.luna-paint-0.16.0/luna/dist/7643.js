"use strict";const a15_0x47d8=["setValueFromHistoryChange","range","_operationName","data","webpackChunkluna","_toleranceOption","34421BUEcRw","type","_taskWorkerService","number","_onUpdate","taskWorkerService","imageFileId","boolean","containsCoord","paletteService","1MREabZ","selectionService","Fill","pointerDown","currentLayer","exclusion","fill","floor","difference","min","lighten","max","_strokeWidth","757qoMjxO","_blendMode","getColorFromPointerEvent","pointerUp","contiguous","runAction","51604ZhOMzh","4BOxLSP","undoData","_smoothing","fillContiguous","_selection","string","screen","353023MKLBxJ","214513pMHslf","36901wjREpk","push","options","44017XDMtvM","runTask","redoColorData","normal","Blend Mode","_range","_color","_floodModeOption","overlay","event","_sc","linearBurn","multiply","_onHistoryUpdateValue","3eyJzFZ","imageService","softLight","2KUSxFr","edit","name","run","onHistoryUpdateValue","fire","value","onUpdate","historyService","_blendModeOption","_value","length","replace","linearDodgeAdd","getCoordsFromEvent","_layer","string-combo","Tolerance %","_pointA","hasImage","_tolerance","_indexList","allowUnchecking","redoData"],a15_0x4d8f=function(t,s){return a15_0x47d8[t-=458]},a15_0x5768b8=a15_0x4d8f;!function(t,s){const e=a15_0x4d8f;for(;;)try{if(154960==-parseInt(e(491))-parseInt(e(481))+-parseInt(e(475))*parseInt(e(508))+parseInt(e(511))*-parseInt(e(541))+parseInt(e(482))*parseInt(e(494))-parseInt(e(490))+parseInt(e(489))*parseInt(e(462)))break;t.push(t.shift())}catch(s){t.push(t.shift())}}(a15_0x47d8),(self.webpackChunkluna=self[a15_0x5768b8(539)]||[])[a15_0x5768b8(492)]([[7643],{9904:(t,s,e)=>{const i=a15_0x5768b8;e.d(s,{FV:()=>h,rP:()=>a,tv:()=>c,Jp:()=>l,X5:()=>u,qv:()=>d});var n=e(1815),o=e(5120),r=e(2939);class h extends o.JT{constructor(t,s,e,i=!0){const o=a15_0x4d8f;super(),this[o(513)]=t,this[o(530)]=s,this[o(521)]=e,this[o(533)]=i,this.type=o(459),this[o(507)]=this.register(new n.v),this[o(515)]=this[o(507)][o(503)],this[o(545)]=this.register(new n.v),this[o(518)]=this[o(545)].event}get[i(517)](){return this._value}set[i(517)](t){const s=i;this._value=t,this._onUpdate[s(516)](t)}setValueFromHistoryChange(t){const s=i;this[s(521)]=t,this[s(507)][s(516)](t)}}class a extends o.JT{constructor(t,s,e){const o=i;super(),this[o(513)]=t,this[o(493)]=s,this._value=e,this[o(542)]=o(487),this[o(507)]=this.register(new n.v),this[o(515)]=this[o(507)][o(503)],this[o(545)]=this.register(new n.v),this.onUpdate=this[o(545)][o(503)]}get value(){return this[i(521)]}set[i(517)](t){this[i(521)]=t,this._onUpdate.fire(t)}[i(535)](t){const s=i;this[s(521)]=t,this[s(507)][s(516)](t)}}class c extends o.JT{constructor(t,s,e){const o=i;super(),this[o(513)]=t,this[o(493)]=s,this._value=e,this[o(542)]=o(527),this[o(507)]=this.register(new n.v),this[o(515)]=this._onHistoryUpdateValue[o(503)],this._onUpdate=this.register(new n.v),this[o(518)]=this._onUpdate.event}get value(){return this[i(521)]}set[i(517)](t){const s=i;this._value=t,this._onUpdate[s(516)](t)}setValueFromHistoryChange(t){const s=i;this[s(521)]=t,this[s(507)].fire(t)}}class l extends a{constructor(){const t=i;super(t(498),[t(497),t(523),"darken",t(506),t(505),t(472),t(488),t(524),t(502),"softLight",t(470),t(467)],t(497))}}class u extends o.JT{constructor(t,s,e,o){const r=i;super(),this[r(513)]=t,this._value=s,this[r(471)]=e,this[r(473)]=o,this[r(542)]="number",this[r(507)]=this.register(new n.v),this[r(515)]=this._onHistoryUpdateValue[r(503)],this[r(545)]=this.register(new n.v),this[r(518)]=this._onUpdate.event}get[i(517)](){const t=i;return(0,r.u)(this._value,this[t(473)],this[t(471)])}set[i(517)](t){const s=i;this._value=t,this[s(545)][s(516)](t)}setValueFromHistoryChange(t){const s=i;this[s(521)]=t,this[s(507)][s(516)](t)}}class d extends u{constructor(t,s,e,n){const o=i;super(t,s,e,n),this[o(542)]=o(544)}get value(){const t=i;return(0,r.u)(this[t(521)],this[t(473)],this.min)}set[i(517)](t){const s=i;this._value=Math[s(469)](t),this[s(545)].fire(t)}}},7643:(t,s,e)=>{const i=a15_0x5768b8;e.r(s),e.d(s,{default:()=>l});var n=e(5120),o=e(6785);i(514);class r{constructor(t,s,e,n,o,r,h,a,c){const l=i;this[l(537)]=t,this[l(526)]=s,this[l(486)]=e,this._x=n,this._y=o,this[l(500)]=r,this[l(531)]=h,this[l(476)]=a,this[l(543)]=c}async[i(514)](){const t=i;let s;await this._layer.edit((async(t,e,i)=>{const n=a15_0x4d8f;return s=await this[n(543)][n(495)](n(485),{targetImage:{data:t,width:e,height:i},color:this._color,selection:this[n(486)],x:this._x,y:this._y,tolerance:this._tolerance,blendMode:this._blendMode}),s[n(536)]}));const e={colorData:s.undoColorData,indexList:s.indexList},n={colorData:s[t(496)],indexList:s.indexList};return new o.x(this[t(537)],this._layer[t(458)],this[t(526)].id,s[t(536)],e,n)}}var h=e(6495),a=e(9904);class c extends n.JT{constructor(t){const s=i;super(),this._sc=t,this.id=s(468),this[s(520)]=new a.Jp,this[s(501)]=new a.rP("Flood Mode",[s(479),"global"],s(479)),this[s(540)]=new a.qv(s(528),0,0,100),this.options=[this._blendModeOption,this[s(501)],this[s(540)]]}[i(465)](t){const s=i;this[s(500)]=this[s(504)][s(461)][s(477)](t)}[i(478)](t){const s=i;if(!this[s(500)])return;const[e,n]=this[s(504)].viewportService[s(525)](t);if(!this[s(504)][s(509)][s(460)](e,n)||!this._sc.selectionService[s(460)](e,n))return;const o=this[s(504)].imageService[s(466)];if(!o)return;const a=this[s(540)].value/100*255;return"global"===this[s(501)][s(517)]?this[s(504)][s(519)][s(480)](new h.N(s(464),o,this[s(504)].selectionService[s(536)],e,n,this._color,a,this[s(520)][s(517)],this._sc[s(546)])):this[s(504)][s(519)][s(480)](new r(s(464),o,this[s(504)][s(463)][s(536)],e,n,this[s(500)],a,this[s(520)].value,this[s(504)][s(546)]))}}const l=c}}]);
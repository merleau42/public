"use strict";const a56_0x2868=['" and "',"color",'Images "','" dimensions differ',"87866eAHnVc","874806RcvlXk",'" dimensions are equal',"targetImage",'Invalid dimensions for image "',"width","tolerance","push","webpackChunkluna","961250xEsipn","415384tJHhqk"," must be contained within ","length","144137xPOPUc","subarray","1McqUIq"," x ","update","data","804287pxUafr","height","blendMode","458767dcdeiK"],a56_0x3fda=function(a,n){return a56_0x2868[a-=176]},a56_0x326fc3=a56_0x3fda;!function(a,n){const t=a56_0x3fda;for(;;)try{if(442457===-parseInt(t(181))-parseInt(t(195))+parseInt(t(196))+-parseInt(t(190))+parseInt(t(183))*parseInt(t(178))+parseInt(t(187))+-parseInt(t(177)))break;a.push(a.shift())}catch(n){a.push(a.shift())}}(a56_0x2868),(self[a56_0x326fc3(176)]=self.webpackChunkluna||[])[a56_0x326fc3(202)]([[5584],{5584:(a,n,t)=>{t.r(n),t.d(n,{run:()=>c});var r=t(4371),e=t(1003),o=t(7742),s=t(7517);const c=async(a,n,t)=>{const c=a56_0x3fda;(0,o.ap)(t,c(198));const d=t.targetImage[c(186)],u=t[c(198)][c(200)],x=t[c(198)][c(188)],l=t.x,p=t.y,h=4*(p*u+l),I=d.subarray(h,h+4),_=t[c(201)]*t[c(201)]*4,w=(0,r.X$)(u*x*2,Math.max(u,x));let g=0;w[g++]=l,w[g++]=p;const R=new Uint8Array(u*x);R[p*u+l]=1;const B=(0,r.X$)(u*x,u*x*4,!0);let m=0;const y=(0,e.Re)(l,p),b=(0,e.DI)(u,x),k=t.selection||b;let v=0,A=0,U=0,q=0;for(;g>0;)A=w[--g],v=w[--g],U=A*u+v,q=4*U,C=d,E=q,P=I,((D=_)>0?(f[0]=P[0]-C[E],f[1]=P[1]-C[E+1],f[2]=P[2]-C[E+2],f[3]=P[3]-C[E+3],f[4]=(1+f[0]*f[0])*P[3]/256+(1+f[1]*f[1])*P[3]/256+(1+f[2]*f[2])*P[3]/256+f[3]*f[3],f[4]<=D):C[E]===P[0]&&C[E+1]===P[1]&&C[E+2]===P[2]&&C[E+3]===P[3])&&(B[m++]=q,(0,e.Hv)(y,v,A),(0,e.RB)(b,v+1,A)&&0===R[U+1]&&((0,e.RB)(k,v+1,A)&&(w[g++]=v+1,w[g++]=A),R[U+1]=1),(0,e.RB)(b,v-1,A)&&0===R[U-1]&&((0,e.RB)(k,v-1,A)&&(w[g++]=v-1,w[g++]=A),R[U-1]=1),(0,e.RB)(b,v,A+1)&&0===R[U+u]&&((0,e.RB)(k,v,A+1)&&(w[g++]=v,w[g++]=A+1),R[U+u]=1),(0,e.RB)(b,v,A-1)&&0===R[U-u]&&((0,e.RB)(k,v,A-1)&&(w[g++]=v,w[g++]=A-1),R[U-u]=1));var C,E,P,D;const H=B[c(182)](0,m);n.update(.25);const M=i(d,H);n[c(185)](.5),function(a,n,t,r){const e=a56_0x3fda;let o=0;for(let c=0;c<n[e(180)];c++)o=n[c],(0,s.B)(r,a,o,t,0)}(d,H,t[c(192)],t[c(189)]),n[c(185)](.75);const X=i(d,H);return n.update(1),{indexList:H,undoColorData:M,redoColorData:X,range:y}},f=new Int32Array(5);function i(a,n){const t=a56_0x3fda,r=new Uint8Array(new SharedArrayBuffer(4*n[t(180)]));for(let e=0;e<n[t(180)];e++)r[4*e]=a[n[e]],r[4*e+1]=a[n[e]+1],r[4*e+2]=a[n[e]+2],r[4*e+3]=a[n[e]+3];return r}},7742:(a,n,t)=>{t.d(n,{ap:()=>e,TO:()=>o,zg:()=>s});var r=t(1003);function e(a,n){const t=a56_0x3fda,r=a[n];if(r[t(200)]<1||r[t(188)]<1)throw new Error(t(199)+n+'": '+r[t(200)]+t(184)+r[t(188)])}function o(a,n,t){const r=a56_0x3fda,e=a[n],o=a[t];if(e[r(200)]===o[r(200)]&&e[r(188)]===o[r(188)])throw new Error(r(193)+n+r(191)+t+r(197))}function s(a,n,t){const e=a56_0x3fda,o=a[n];if(!(0,r.ur)(t,o))throw new Error('Range "'+n+'" '+(0,r.PW)(o)+e(179)+(0,r.PW)(t))}}}]);
<html lang="ko"><head></head><body><div id="problem-body" class="">
    <div class="col-md-12">
        <section id="description" class="problem-section">
        <div class="headline">
        <h2>문제</h2>
        </div>
        <div id="problem_description" class="problem-text">
        <p>We consider a tree T = (V, E) where V is a set of vertices and E is a set of edges. A vertex adjacent to v is called a neighbor of v in T , and we denote the set of neighbors of v in T by N(v). A labeling of a tree T is defined as a one-to-one and onto function f : V → {1, 2, ..., |V|}. For two labeling f and g, if f(u) = g(v) and {f(u') | u' ∈ N(u)} = {g(v') | v' ∈ N(v)}, then we say that v and g are equivalent, or f is equivalent to g . Note that basically a labeling f of T is equivalent to f itself. The figure below shows two equivalent labeling; you can easily check the equivalency.&nbsp;</p>

<p><img alt="" src="https://onlinejudgeimages.s3.amazonaws.com/problem/9068/%EC%8A%A4%ED%81%AC%EB%A6%B0%EC%83%B7%202017-01-03%20%EC%98%A4%ED%9B%84%205.33.28.png" style="height:193px; width:400px"></p>

<p>Your task is to devise and implement an efficient algorithm for counting the number of equivalent labeling to a labeling f of T when you are given a tree T and a labeling f. Since f is equivalent&nbsp;to f itself, you must not miss f itself when counting equivalent labeling of f.&nbsp;</p>

        </div>
        </section>
    </div>
                                <div class="col-md-12">
            <section id="input" class="problem-section">
            <div class="headline">
            <h2>입력</h2>
            </div>
            <div id="problem_input" class="problem-text">
            <p>Your program is to read from standard input. The input consists of T (1 ≤ T ≤ 20) test cases. The number T of test cases is given in the first line of the input. Each test case consists of the number N (1 ≤ N ≤ 1000) of vertices of an input tree in the first line. Each of following N-1 lines contains two integers 1 ≤ i, j ≤ N, which represents an edge of our input tree connecting vertex i and vertex j. The (N + 1)-st line contains N integers representing a labeling, that is, the ith number of (N+1)-st line means the label of vertex i. All the integers are separated by a single space.&nbsp;</p>

            </div>
            </section>
        </div>

        <div class="col-md-12">
            <section id="output" class="problem-section">
            <div class="headline">
            <h2>출력</h2>
            </div>
            <div id="problem_output" class="problem-text">
            <p>Your program is to write to standard output. Print exactly one line for each test case with the number of equivalent labeling.&nbsp;</p>

            </div>
            </section>
        </div>
                <div class="col-md-12">
    <section id="limit" style="display:none;" class="problem-section">
    <div class="headline">
    <h2>제한</h2>
    </div>
    <div id="problem_limit" class="problem-text">
                </div>
    </section>
    </div>
                                                            <div class="col-md-12">
        <div class="row">
            <div class="col-md-6">
                <section id="sampleinput1">
                <div class="headline">
                <h2>예제 입력 1
                    <button type="button" class="btn btn-link copy-button" style="padding: 0px;" data-clipboard-target="#sample-input-1">복사</button>
                </h2>
                </div>
                <pre class="sampledata" id="sample-input-1">2
9
2 8
1 2
2 3
3 4
4 5
5 6
4 7
2 9
1 9 2 6 3 7 4 5 8
7
1 5
2 5
5 7
6 7
3 6
4 6
7 1 6 2 5 3 4
</pre>
                </section>
            </div>
            <div class="col-md-6">
                <section id="sampleoutput1">
                <div class="headline">
                <h2>예제 출력 1
                    <button type="button" class="btn btn-link copy-button" style="padding: 0px;" data-clipboard-target="#sample-output-1">복사</button>
                </h2>
                </div>
                <pre class="sampledata" id="sample-output-1">6
8
</pre>
                </section>
            </div>
                            </div>
        </div>
                                <div class="col-md-12">
        <section id="hint" style="display: none;" class="problem-section">
        <div class="headline">
        <h2>힌트</h2>
        </div>
        <div id="problem_hint" class="problem-text">
        
        </div>
        </section>
    </div>
                        </div></body></html>